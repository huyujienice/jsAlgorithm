# 正则表达式速记

```
*通配符，匹配 0,1,2,3...任意次 
+匹配 1,2,3...匹配一次或者多次
?是否存在，匹配 0,1 次
.默认匹配除换行符以外的任何单个字符
\d 匹配一个数字,digital
\D 匹配一个非数字字符
\s 匹配一个空白字符，包括空格，制表符，换页符和换行符，space
\S 匹配一个非空白字符
\w 匹配一个单字字符，数字字母下划线，word
\W 匹配一个非单字字符
^匹配输入开始
$匹配输入结束
```

# 进程，线程，协程

进程 Process,线程 Thread,协程 Coroutine  

1. 进程是操作系统资源分配的基本单位，线程是任务调度和执行的基本单位  
2. 进程拥有独立的内存空间，线程则共享所在进程中的内存空间  
3. 进程之间切换开销较大，而线程间切换开销较小  
4. 程序是一个静态指令的集合，而进程是一个正在系统中活动的指令的集合  

js原生不支持协程，但是可以通过event loop模拟协程行为，协程的调度完全由用户控制（进程和线程都是由 cpu 内核进行调度）  

1. 协程，特殊的函数（程序控制）   
2. 一个线程可以拥有多个协程  
3. 可以暂停执行(暂停的表达式称为暂停点)  
4. 可以从挂起点恢复（保留其原始参数和局部变量）  
5. 事件循环是异步编程的底层基石  

协程的优点：  
1. 没有线程上下文切换的开销，Coroutine切换调度开销方面远比线程小  
2. 无需原子操作锁定及同步的开销  
3. 方便切换控制流，简化编程模型  
4. 每个goroutine默认占用内存远比Java，C的线程少。Coroutine:2KB(官方),线程:8MB(参考网络)  
高并发+高扩展性+低成本：一个CPU支持上万个协程都不是问题。所以很适合用于高并发处理。  

协程的缺点：
1. 无法利用多核资源：协程的本质是个单线程，它不能同时将单个CPU的多核用上，协程需要和进程配合才能运行在多CPU上  
2. 进行阻塞(Blocking)操作(如IO时)会阻塞掉整个程序  
CPU密集型代码(各种循环处理，计算等等)：使用多进程。IO密集型代码(文件处理，网络爬虫等)：使用多线程  

### 浏览器多进程架构
浏览器主要包含以下主要进程：  
1.主进程，负责协调主控，只有一个。作用包括：   
    1.1负责浏览器界面显示，与用户前进后退等交互   
    1.2创建和销毁其他进程   
    1.3网络资源的管理与下载   
2.第三方插件进程：每种类型插件对应一个进程，仅当使用该插件时创建    
3.GPU进程：最多一个，用于3D绘制    
4.浏览器渲染进程(浏览器内核)(Renderer进程，内部是多线程的)：默认每一个Tab页面一个进程，互不影响。主要作用是页面渲染，脚本执行，事件处理等    


浏览器渲染进程主要包含以下线程：    
1.GUI渲染线程    
2.JS引擎线程    
3.事件触发线程    
4.定时触发器线程    
5.异步http请求线程   

主流浏览器内核：   
Safari->webkit     
chrome->Blink(webkit分支)    
firefox->Gecko    




# 位 字节 字

位，来自英文bit,音译为“比特”，表示二进制位。位是计算机内部数据存储的最小单位。  

字节，来自英文Byte，习惯上用大写“B”表示。字节是计算机中数据处理的基本单位。计算机中以字字节为单位存储和解释信息，规定一个字节由八个二进制位构成，即1个字节等于8个比特(1Byte=8bit)。八位二进制数最小为00000000，最大为11111111；通常一个字节可以存入一个ASCII码(ASCII码包括一些标点符号，大小写英文字母，数字，键盘操作等，所以需要256种状态来存储)，二个字节可以存放一个汉字国标码。  

1B=8b  
1KB=1024B  
1MB=1024KB  
1GB=1024MB  
1TB=1024GB  

# 十六进制  
每个十六进制可表示0~15大小，一般用数字0到9和字母A到F表示，其中：A~F相当于十六进制的10~15，十六进制以0x或0X作为前缀   
4b可表示一个单独的十六进制数，1B可表示2个连续的十六进制数    



ASCII码  
American Standard Code for Information Interchange，美国标准，起初是128个字符，后面扩展了，256个字符

Unicode  
每个符号都给予一个独一无二的编码，是一个符号集

UTF-8  
UTF-8是互联网上使用最广的一种Unicode的实现方式。UTF-8是Unicode的实现方式之一，其他方式还包括UTF-16,UTF-32，但基本不使用
UTF-8是一种变长的编码方式。它可以使用1~4个字节表示一个符号，根据不同的符号而变化字节长度  

### 对称加密 AES
对称加密指加密和解密使用相同的密钥进行加密算法    
优点：算法公开，计算量小，加密速度快，加密效率高      
缺点：单方秘钥泄露双方加密失效         
使用场景：本地数据加密，https通信，网络传输等    
例如：AES加密算法     

### 非对称加密 RSA
一对秘钥，公钥私钥    
公钥加密，私钥解密       
优点：安全性更强,一组公钥私钥，可以保证单个方向传输的安全性            
缺点：花费时间长，速度慢，适合少量数据加密      
使用场景：https会话前期，CA数字证书，信息加密，登录认证      
例如：RSA加密算法    

### Hash算法 MD5
将任意长度的消息压缩到某一个固定长度的消息       
优点：不可逆，易计算，特征化     
缺点：可能存在散列冲突     
使用场景：文字或字符串一致性校验，数字签名，鉴权登录           
例如：MD5算法     

### Base64
将二进制的信息流转化为编码为Base64的编码的ASCII字符串（这种字符串可以显示打印出来也可以通过字符串传播）   
window.btoa 转码   
window.atob 解码   
如何Unicode字符串需要转码解码（例如中文），则需要特殊处理，详见 https://developer.mozilla.org/zh-CN/docs/Web/API/btoa  


### 成熟请求加密方案        
在业务http场景中，AES的密钥在前端随机生成，从服务器或者其他平台方式获取RSA的公钥，(这样前端逻辑即使泄露也无法直接获取公钥)         
使用RSA公钥对AES的密钥进行非对称加密，把加密后的密钥放在请求头传递给服务器，用AES对body进行加密（这样拦截http无法获取有效信息）          
服务器收到请求后使用RSA私钥解密请求头，得到明文AES秘钥，即可对body进行解密         
在客户端将body明文进行MD5加密放入请求头，服务端拿到明文body后可进行MD5解密，与请求头信息进行比较（这样可以防止http被拦截后篡改body）      


### HTTPS加密原理
基于安全性和性能，采用非对称加密+对称加密的方式进行通信     
1. 浏览器预装CA机构的数字证书验证程序，服务器给与浏览器数字证书，验证程序能保证数字证书的有效性，从而获取到服务器信息及公钥   
    1.1 验证程序包含公钥私钥，数字证书通过公钥加密，浏览器内验证程序通过数字证书链及私钥解密来获取证书内服务器信息    
    1.2 采用CA机构验证服务器公钥的方案能够解决公钥信任问题(网站是否是正常网站，是否备案过等等)及中间人攻击的问题       
2. 浏览器生成当次随机的加密串使用服务器公钥进行加密，服务器通过私钥解密，这样CS两端都拥有了暂时的随机的加密串
3. CS两端使用上述随机字符串进行对称加密通信   

上诉http加密方案及https加密原理内容基本相同   
都是通过其他手段保证公钥的安全及有效的获取，然后随机生成临时对称加密密钥进行公钥加密，服务端私钥解密后，CS双端都使用临时密钥进行对称加密通信      





### encodeURIComponent decodeURIComponent
将特定的字符转换为UTF-8编码,常用于URL转义，当URL中包含中文的时候可以使用   


### encodeURI decodeURI
转码，鸡肋，用处较少    









